# 分组, 定义和复用

## 分组 - g 和 复用 - use
> 元素 g 是用来组合对象的容器。添加到g元素上的变换会应用到其所有的子元素上。添加到 g 元素的属性会被其所有的子元素继承。此外，g 元素也可以用来定义复杂的对象，之后可以通过 use 元素来引用它们。

### 应用场景
实际应用中，可能需要多次重复出现一个相同的图形。最不明智的解决方案是每次都绘制一个全新的图形，较好的解决方案是重复使用一个图形。

### 具体使用

```
<g id="star">
    <polygon 
        points="50,50 30,100 75,65 25,65 70,100"
        style="fill: none; stroke: #f00; stroke-width: 1px"
    />
</g>
// 复用
<use xlink:href="#star" x="100" y="0"></use>
```

1. g 元素可以直接显示。
2. use 元素可以使用xlink:href属性（属性值是#+g元素id）多次引用 g 元素。
3. 被引用后创建的新元素是最初元素的一个副本；新元素会继承最初元素的样式、旋转、缩放等特性。
4. 不能在新元素中覆盖初始元素的样式（例如描边和填充）。
5. x和y属性规定新元素的坐标原点。


### demo
[查看运用 g 和 use 的](https://www.tomz.club/projects/2020-02/200107.html)

-----

## 定义 - def
> g 元素和 defs 元素定义的图形元素的样式在被重用的新元素中都是无法被改变的；defs 元素可以定义我们不想直接显示的内容。g 分组定义的内容直接会显示，所以 defs 元素在使用的时候会有更大的灵活性。

### 应用
跟 g 元素应用场景基本相同，由于 g 元素中的内容会直接显示，通常需要给元素一些样式，所以会对应用带来一些障碍；defs 元素内部定义的元素不会直接显示，可以不用事先定义样式，而是在使用 use 元素实例化的时候再定义。

### 具体使用

```
// 隐藏定义，不需要绘制样式和位置
<defs>
    <g id="star">
        <polygon
            points="50,50 30,100 75,65 25,65 70,100"
        >
        </polygon>
    </g>
</defs>
// 复用时再加上位置和样式
<use xlink:href="#star" x="100" y="0" style="fill: #ff0; stroke: #f00; stroke-width: 1px"></use>
```

### demo
[查看运用 defs 的 demo](https://www.tomz.club/projects/2020-02/200108.html)
