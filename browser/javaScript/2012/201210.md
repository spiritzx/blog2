
# js基础: 连等号的赋值

## 问题一

```
var a = {n: 1};
a.x = a = {n: 2};
console.log(a.x); // undefined
```

### 解析
1. js 中对象赋值都是指针引用
2. 连等赋值 a = b = c; 是 a = c ; b = c; 且同时进行'
3. 所以 a.x = a = {n: 2}; 是 a.x = {n: 2}; a = {n: 2}; 同时进行
4. a.x 中的 a 保存的指针此时还是指向 {n: 1}; 所以 {n: 1} 变为 {n: 1, x: {n: 2}}; 而赋值后, {n: 1, x: {n: 2}} 没有被变量所引用会被垃圾回收
5. a = {n: 2}; a 的指针指向 {n: 2}; 且 a.x ;没有被赋值,所以是 undefined

## 问题二

```
var a = {n: 1};
var b = a;
a.x = a = {n: 2};
console.log(a.x); // undefined
console.log(b.x); // {n: 2}
```

### 解析
1. 第一个问题中第三步,由于 {n: 1, x:{n: 2}} 这个对象被 b 所引用,没被垃圾回收,所以 b.x 为 {n: 2}