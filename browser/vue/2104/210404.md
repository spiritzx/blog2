
# vue 单页面在 ios 端微信自定义分享失效
> 项目记录

## 问题
ios 自定义分享在安卓端正常用,但在 ios 端却不能用

## 分析
1. vue 单页面项目使用的是 history 模式
2. 但在 ios 端必须刷新才能分享
3. 安卓传的是本页面的url，但 ios 单页面项目路径不会变,只会是初次进来的页面,所以给后台的路径必须是单页面初次进来的页面路径,否则微信自定义分享会失败

## 解决
1. 在 app.vue (根组件)全局记录(例如 vuex)进来的页面路径
2. 在需要自定义分享的页面将全局记录,判断是 ios 端,则将记录的页面路径传给后端
